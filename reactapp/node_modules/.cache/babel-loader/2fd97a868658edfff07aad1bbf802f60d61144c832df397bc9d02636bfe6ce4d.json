{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sachi\\\\Desktop\\\\project\\\\workspace\\\\reactapp\\\\src\\\\components\\\\RequiredAuth.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Navigate, Outlet } from 'react-router-dom';\nimport { getCurrentUserDetails, isLoggedIn } from '../auth';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RequiredAuth = _ref => {\n  _s();\n  let {\n    allowedRoles\n  } = _ref;\n  const location = useLocation();\n  const user = getCurrentUserDetails();\n  return isLoggedIn ? allowedRoles !== null && allowedRoles !== void 0 && allowedRoles.includes(user === null || user === void 0 ? void 0 : user.role) ? /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 25\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/unauthorized\",\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 25\n  }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    state: {\n      from: location\n    },\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 25\n  }, this);\n};\n_s(RequiredAuth, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = RequiredAuth;\nexport default RequiredAuth;\nvar _c;\n$RefreshReg$(_c, \"RequiredAuth\");","map":{"version":3,"names":["React","Navigate","Outlet","getCurrentUserDetails","isLoggedIn","useLocation","RequiredAuth","allowedRoles","location","user","includes","role","from"],"sources":["C:/Users/sachi/Desktop/project/workspace/reactapp/src/components/RequiredAuth.js"],"sourcesContent":["import React from 'react'\r\nimport { Navigate, Outlet } from 'react-router-dom';\r\nimport { getCurrentUserDetails, isLoggedIn} from '../auth';\r\nimport { useLocation } from 'react-router-dom';\r\nconst RequiredAuth = ({allowedRoles}) => {\r\n    const location = useLocation();\r\n    const user = getCurrentUserDetails()\r\n\r\n    return (  \r\n                \r\n                \r\n                isLoggedIn ? ( \r\n                        allowedRoles?.includes(user?.role) ? \r\n                        <Outlet/>\r\n                        :\r\n                        <Navigate to=\"/unauthorized\" state={{from:location}} replace />\r\n                )\r\n                :\r\n                        <Navigate to=\"/login\" state={{from:location}} replace />\r\n        \r\n        )\r\n}\r\n\r\nexport default RequiredAuth"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AACnD,SAASC,qBAAqB,EAAEC,UAAU,QAAO,SAAS;AAC1D,SAASC,WAAW,QAAQ,kBAAkB;AAAC;AAC/C,MAAMC,YAAY,GAAG,QAAoB;EAAA;EAAA,IAAnB;IAACC;EAAY,CAAC;EAChC,MAAMC,QAAQ,GAAGH,WAAW,EAAE;EAC9B,MAAMI,IAAI,GAAGN,qBAAqB,EAAE;EAEpC,OAGYC,UAAU,GACFG,YAAY,aAAZA,YAAY,eAAZA,YAAY,CAAEG,QAAQ,CAACD,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEE,IAAI,CAAC,gBAClC,QAAC,MAAM;IAAA;IAAA;IAAA;EAAA,QAAE,gBAET,QAAC,QAAQ;IAAC,EAAE,EAAC,eAAe;IAAC,KAAK,EAAE;MAACC,IAAI,EAACJ;IAAQ,CAAE;IAAC,OAAO;EAAA;IAAA;IAAA;IAAA;EAAA,QAAG,gBAG/D,QAAC,QAAQ;IAAC,EAAE,EAAC,QAAQ;IAAC,KAAK,EAAE;MAACI,IAAI,EAACJ;IAAQ,CAAE;IAAC,OAAO;EAAA;IAAA;IAAA;IAAA;EAAA,QAAG;AAGhF,CAAC;AAAA,GAjBKF,YAAY;EAAA,QACGD,WAAW;AAAA;AAAA,KAD1BC,YAAY;AAmBlB,eAAeA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}