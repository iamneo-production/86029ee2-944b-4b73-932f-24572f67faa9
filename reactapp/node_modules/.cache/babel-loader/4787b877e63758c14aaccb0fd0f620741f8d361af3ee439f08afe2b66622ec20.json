{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sachi\\\\Desktop\\\\project\\\\workspace\\\\reactapp\\\\src\\\\pages\\\\Applicationspage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\nimport Base from '../components/Base';\nimport { editStudent, getApplications } from '../services/AdminServices';\nimport { toast } from 'react-toastify';\nimport ApplicationsList from '../components/ApplicationsList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Applicationspage = () => {\n  _s();\n  const [appList, setAppList] = useState([]);\n  const [keyword, setKeyword] = useState(\"\");\n  const [searchedApplicant, setSearchedApplicant] = useState([]);\n  useEffect(() => {\n    if (appList.length === 0) {\n      getApplications().then(response => {\n        const applications = response;\n        console.log(\"response from the backend: \", response);\n        setAppList(applications);\n        console.log(\"After setState: \", appList);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleAccept = (id, student) => {\n    console.log(student);\n    editStudent(id, student).then(response => {\n      toast.success(\"Student Application Accepted\");\n      const applicants = appList.filter(applicant => applicant.id !== id);\n      setAppList(applicants);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n  const handleReject = (id, student) => {\n    console.log(student);\n    editStudent(id, student).then(response => {\n      toast.success(\"Student Application Rejected\");\n      const applicants = appList.filter(applicant => applicant.id !== id);\n      setAppList(applicants);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n  const handleSearch = () => {\n    if (keyword.length > 0) {\n      setSearchedApplicant(appList.filter(applicant => applicant.firstname.toLowerCase().includes(keyword.toLowerCase()) || applicant.lastname.toLowerCase().includes(keyword.toLowerCase())));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Base, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Applications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"mx-3\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              onChange: event => setKeyword(event.target.value),\n              placeholder: \"search Applicant by Name ex: Sachin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outline-info\",\n              onClick: handleSearch,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 22\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this), appList.length > 0 && (keyword.length > 0 ? /*#__PURE__*/_jsxDEV(ApplicationsList, {\n        applicants: searchedApplicant,\n        handleAccept: handleAccept,\n        handleReject: handleReject\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }, this) : /*#__PURE__*/_jsxDEV(ApplicationsList, {\n        applicants: appList,\n        handleAccept: handleAccept,\n        handleReject: handleReject\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n};\n_s(Applicationspage, \"KS675mcmceI7RFKOz6hNgmp3efg=\");\n_c = Applicationspage;\nexport default Applicationspage;\nvar _c;\n$RefreshReg$(_c, \"Applicationspage\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Form","Button","Base","editStudent","getApplications","toast","ApplicationsList","Applicationspage","appList","setAppList","keyword","setKeyword","searchedApplicant","setSearchedApplicant","length","then","response","applications","console","log","catch","error","handleAccept","id","student","success","applicants","filter","applicant","handleReject","handleSearch","firstname","toLowerCase","includes","lastname","event","target","value"],"sources":["C:/Users/sachi/Desktop/project/workspace/reactapp/src/pages/Applicationspage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Container, Row, Col, Form, Button } from 'react-bootstrap';\r\nimport Base from '../components/Base';\r\nimport { editStudent, getApplications } from '../services/AdminServices';\r\nimport { toast } from 'react-toastify'\r\nimport ApplicationsList from '../components/ApplicationsList';\r\n\r\nconst Applicationspage = () => {\r\n    const [appList, setAppList] = useState([])\r\n    const [keyword, setKeyword] = useState(\"\")\r\n    const [searchedApplicant, setSearchedApplicant] = useState([])\r\n    \r\n\r\n    useEffect(()=>{\r\n        if(appList.length === 0){\r\n            getApplications()\r\n            .then((response)=>{\r\n                const applications = response;\r\n                console.log(\"response from the backend: \", response)\r\n                \r\n                setAppList(applications)\r\n                console.log(\"After setState: \", appList)\r\n            \r\n            })\r\n            .catch(error=>{\r\n                console.log(error)\r\n            })\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const handleAccept=(id, student)=>{\r\n        console.log(student)\r\n        editStudent(id, student).then((response)=>{\r\n            toast.success(\"Student Application Accepted\")\r\n            const applicants = appList.filter(applicant=> applicant.id !== id)\r\n            setAppList(applicants)\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n\r\n    const handleReject=(id, student)=>{ \r\n        console.log(student)\r\n        editStudent(id, student)\r\n        .then(response=>{\r\n            toast.success(\"Student Application Rejected\")\r\n            const applicants = appList.filter(applicant=> applicant.id !== id)\r\n            setAppList(applicants)\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n        })\r\n    }\r\n    const handleSearch=()=>{\r\n        if(keyword.length > 0){\r\n            setSearchedApplicant(appList.filter(applicant=>applicant.firstname.toLowerCase().includes(keyword.toLowerCase()) || applicant.lastname.toLowerCase().includes(keyword.toLowerCase())))\r\n        }\r\n    }\r\n  return (\r\n    <Base>\r\n        <Container>\r\n            <h1>Applications</h1>\r\n            <Container className= \"mx-3\">\r\n                <Row>\r\n                <Col><Form.Control type=\"text\" onChange={(event)=>setKeyword(event.target.value)} placeholder=\"search Applicant by Name ex: Sachin\"/></Col>\r\n                <Col><Button variant=\"outline-info\" onClick={handleSearch}>Search</Button> </Col>\r\n                </Row>\r\n            </Container>\r\n            {\r\n                 appList.length > 0 && (\r\n                        keyword.length > 0 ? (\r\n                            <ApplicationsList applicants = {searchedApplicant} handleAccept = {handleAccept} handleReject={handleReject} />\r\n                        )\r\n                        :\r\n                        (\r\n                            <ApplicationsList applicants = {appList} handleAccept = {handleAccept} handleReject={handleReject} />\r\n                        )\r\n                    \r\n                )\r\n            }\r\n        </Container>\r\n    </Base>\r\n  )\r\n\r\n}\r\n\r\nexport default Applicationspage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}